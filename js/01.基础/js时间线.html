<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>js时间线</title>
</head>
<body>
js时间线
js执行是单线程,并不是说整个浏览器都是单线程的,姑且就成为单线程吧

js单线程的原因是为了避免多线程操作dom,引发的并发问题,dom属于基础数据,从多线程上讲,对它的操作要加事物,
而js的操作最初就是为了操作dom,嗯,幸好是单线程的,总之一句话,凡是能够修改dom的一定得同步

客户端js时间线

1、创建document对象，开始解析web页面。创建HTMLHtmlElement对象，添加到document中。这个阶段document.readyState = 'loading'。
2、遇到link外部css，创建线程加载，并继续解析文档。并发
3、遇到script外部js，并且没有设置async、defer，浏览器创建线程加载，并阻塞，等待js加载完成并执行该脚本，然后继续解析文档。
    js拥有修改dom的能力-->domcument.write
4、遇到script外部js，并且设置有async、defter，浏览器创建线程加载，并继续解析文档。
async属性的脚本，脚本加载完成后立即执行。
defter==丢置尾部。
document.createElement('script')的方式动态插入script元素来模拟async属性，实现脚本异步加载和执行。(禁制使用document.write())
5、遇到img等，浏览器创建线程加载，并继续解析文档。并发
6、当文档解析完成，document.readyState = 'interactive'。(活跃 )
7、文档解析完成后，所有设置有defer的脚本会按照顺序执行。（注意与async的不同）
8、document对象触发DOMContentLoaded事件，这也标志着程序执行从同步脚本执行阶段，转化为事件驱动阶段。
9、当所有async的脚本加载完成并执行后、img等加载完成后，document.readyState = 'complete'，window对象触发load事件。
10、从此，以异步响应方式处理用户输入、网络事件等。
</body>
</html>
