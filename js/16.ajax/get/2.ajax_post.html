<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>post请求</title>
</head>
<body>


<script>
    //1.创建一个xhr对象
    var xhr =new XMLHttpRequest()

    //2.监听数据是否返回
    xhr.onreadystatechange==function(){
        //xhr对象的readyState属性发生了改变  这个事件才会被触发
        //readyState
        //0==>xhr对象已经创建  但是还没有进行初始化操作
        //1==>xhr对象已经调用了open方法
        //2==>xhr已经发送了ajax请求
        //3==>已经返回了部分数据
        //4==>数据已经全部返回
        if(xhr.readyState !==4){
            return
        }
        // status
        //     200 成功
        //     301 重定向
        //     404未找到页面
        //     500服务器错误
        if(xhr.status>=200 && xhr.status<=300){
            var rasp = JSON.parse(xhr.responseText);
                if(rasp.result){
                    alert('登录成功！！！')
                }else {
                    alert('登录失败')
                }
        }else {
            console.error('请求失败')
        }
    }

    //2.配置这个请求
        xhr.open('post','./login',true)
    //3.设定请求头  指明body中的数据是何格式
    xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded')
    // 4.发送请求
    xhr.send('user=gap&password=123456')
</script>
</body>
</html>
